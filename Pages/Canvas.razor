@page "/Canvas"
@using Blazor.Extensions
@using Blazor.Extensions.Canvas

<div>There's a webgl context here</div>
<BECanvas Width="300" Height="400" @ref="_canvasRef" ></BECanvas>

@code{

    private WebGLContext _context;

    protected BECanvasComponent _canvasRef;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        this._context = await this._canvasRef.CreateWebGLAsync();
        
        await this._context.ClearColorAsync(0, 0, 0, 1);
        await this._context.ClearAsync(BufferBits.COLOR_BUFFER_BIT);
    }
}